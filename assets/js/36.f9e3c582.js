(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{523:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-日志频率"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-日志频率"}},[t._v("#")]),t._v(" 1.日志频率")]),t._v(" "),a("p",[t._v("流控日志每秒记录一次 。")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("SCHEDULER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduleAtFixedRate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MetricTimerListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SECONDS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-日志格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-日志格式"}},[t._v("#")]),t._v(" 2.日志格式")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("时间戳")]),t._v(" "),a("th",[t._v("例如：1598276503000")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("格式化的日期")]),t._v(" "),a("td",[t._v("例如：2020-08-24 21:41:43")])]),t._v(" "),a("tr",[a("td",[t._v("resource名称")]),t._v(" "),a("td",[t._v("例如：Get:/hello")])]),t._v(" "),a("tr",[a("td",[t._v("passQps")]),t._v(" "),a("td",[t._v("通过的Qps，即：在获取令牌（entry）统计的Qps")])]),t._v(" "),a("tr",[a("td",[t._v("blockQps")]),t._v(" "),a("td",[t._v("阻塞的Qps，即：在抛出BlockException时统计的Qps")])]),t._v(" "),a("tr",[a("td",[t._v("successQps")]),t._v(" "),a("td",[t._v("成功的QPS，即：在释放令牌（entry）后统计的Qps")])]),t._v(" "),a("tr",[a("td",[t._v("exceptionQps")]),t._v(" "),a("td",[t._v("异常的Qps，即：抛出非BlockException的Qps")])]),t._v(" "),a("tr",[a("td",[t._v("rt")]),t._v(" "),a("td",[t._v("从获取令牌（entry）到释放的响应时间")])]),t._v(" "),a("tr",[a("td",[t._v("occupiedPassQps")]),t._v(" "),a("td",[t._v("本时间窗口容量已满，占用未来时间窗口的Qps，默认为false不开启")])]),t._v(" "),a("tr",[a("td",[t._v("concurrency")]),t._v(" "),a("td",[t._v("并发度，未使用")])]),t._v(" "),a("tr",[a("td",[t._v("classification")]),t._v(" "),a("td",[t._v("resource类型0:common,1:common_web,2:common_rpc,3:common_api_gateway,4:common_db_sql")])])])]),t._v(" "),a("h4",{attrs:{id:"_3-日志说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-日志说明"}},[t._v("#")]),t._v(" 3.日志说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("日志目录")]),t._v(" "),a("th",[t._v("默认日志目录为：user.home/logs/csp，可以通过csp.sentinel.log.dir参数设置")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("日志名称")]),t._v(" "),a("td",[t._v("appName-metrics.log.yyyy-MM-dd.n，可以通过csp.sentinel.app.name指定 每创建一个日志文件n会递增，可以通过logNameUsePid将pid加入到日志文件名中，默认false。 例如：com-alibaba-csp-sentinel-dashboard-DashboardApplication-metrics.log.2020-08-25.5")])]),t._v(" "),a("tr",[a("td",[t._v("日志大小")]),t._v(" "),a("td",[t._v("默认50M，可以通过csp.sentinel.metric.file.single.size设置")])]),t._v(" "),a("tr",[a("td",[t._v("日志数量")]),t._v(" "),a("td",[t._v("默认最多6个文件，可以通过csp.sentinel.metric.file.total.count设置")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);